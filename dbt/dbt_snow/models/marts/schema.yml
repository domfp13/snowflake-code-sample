version: 2

models:
  # Customer Analytics Models
  - name: customer_summary
    description: "Comprehensive customer analysis with lifetime value, segmentation, and behavioral metrics"
    columns:
      - name: customer_key
        description: "Unique customer identifier"
        data_tests:
          - unique
          - not_null
      - name: lifetime_value
        description: "Total revenue generated by customer"
      - name: value_segment
        description: "Customer value classification (High/Medium/Low Value)"
      - name: frequency_segment
        description: "Customer order frequency classification"
      - name: recency_segment
        description: "Customer activity recency classification"

  - name: customer_behavior
    description: "Detailed customer purchasing behavior and return patterns"
    columns:
      - name: customer_key
        description: "Unique customer identifier"
        data_tests:
          - unique
          - not_null
      - name: return_rate_pct
        description: "Percentage of items returned by customer"
      - name: avg_discount_rate
        description: "Average discount rate for customer purchases"

  # Order Analytics Models  
  - name: order_summary
    description: "Complete order analysis with financial metrics, shipping performance, and classifications"
    columns:
      - name: order_key
        description: "Unique order identifier"
        data_tests:
          - unique
          - not_null
      - name: order_size_category
        description: "Order size classification (Small/Medium/Large)"
      - name: shipping_performance
        description: "Shipping performance classification (Early/On Time/Late)"
      - name: return_rate_pct
        description: "Percentage of order items returned"

  - name: shipping_performance
    description: "Shipping mode performance analysis and trends"
    columns:
      - name: analysis_type
        description: "Type of analysis (summary or monthly_trend)"
      - name: ship_mode
        description: "Shipping method used"
      - name: late_shipment_pct
        description: "Percentage of late shipments"
      - name: return_rate_pct
        description: "Return rate for this shipping mode"

  # Business Metrics Models
  - name: pricing_summary
    description: "TPC-H Q1 inspired pricing summary by return flag and line status"
    columns:
      - name: return_flag
        description: "Item return status"
      - name: line_status
        description: "Line item fulfillment status"
      - name: sum_charge
        description: "Total revenue including tax"
      - name: discount_impact_pct
        description: "Percentage impact of discounts on revenue"

  - name: revenue_analysis
    description: "Monthly revenue analysis with growth metrics and segment breakdown"
    columns:
      - name: revenue_month
        description: "Revenue month"
        data_tests:
          - not_null
      - name: net_revenue
        description: "Revenue after discounts"
      - name: mom_growth_pct
        description: "Month-over-month growth percentage"
      - name: yoy_growth_pct
        description: "Year-over-year growth percentage"

  - name: key_metrics
    description: "Key business metrics dashboard with various KPIs"
    columns:
      - name: metric_name
        description: "Name of the business metric"
      - name: metric_value
        description: "Value of the metric"
      - name: metric_type
        description: "Type of metric (count, currency, percentage, days)"